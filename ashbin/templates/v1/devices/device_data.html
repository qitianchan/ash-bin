{% extends "layout.html" %}
{% block container %}

<div class="wrapper">
    <div class="row">
        <div class="col-lg-8">
        <div class="panel">
            <div class="panel-body">
                <div id="map-container" style="width: 100%; height: 400px;"></div>
            </div>
        </div>
        </div>
        <div class="col-lg-4" >
            <div class="panel">
                <div class="panel-body">
                    <div class="device-info">
                        <div class="row"><b>MAC: </b>{{ device.mac }}</div>
                        <div class="row"><b>EUI: </b>{{ device.eui }}</div>
                        <div class="row"><b>Longitude: </b>{{ device.lng }}</div>
                        <div class="row"><b>Latitude: </b>{{ device.lat }}</div>
                        <div class="row" ><b>Temperature: </b><span id="info-temperature">{{ device.temperature }}&#8451</span></div>
                        <div class="row"><b>Fill Level: </b><span id="info-occupancy">{{ device.occupancy }}%</span></div>
                        <div class="row"><b>Battery Level: </b><span id="info-battery">{{ device.electric_level }}%</span></div>
                        <div class="row"><b>Last Update Date: </b>
                            <span id="info-date">{{ device.last_update_date }}</span>
                        </div>
                        <div class="row"><b>Last Update Time: </b>
                            <span id="info-time">{{ device.last_update_time }} </span>
                        </div>
                        <div class="row">
                            <a href="{{url_for('devices.device_profile', device_id=device.device_id) }}" class="btn btn-primary" id="edit-device-info"><i class="fa fa-edit"></i><span> Edit</span> </a>
                            <button class="btn btn-danger" style="margin-left: 8px;" id="delete-device-info"><i class="fa fa-trash-o"></i><span> Delete</span></button></div>
                    </div>  <!-- end device info -->

                </div>
            </div>
        </div>  <!-- End device info column -->
    </div> <!-- / row -->

    <!-- data chart -->
    <div class="row">
        <div class="col-lg-12">
            <div class="panel">
                <div class="panel-body">
                    <div class="chart">
                        <div class="chart-body" id="fill-level"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>  <!-- /fill level -->
    <!-- temperature -->
    <div class="row">
        <div class="col-lg-6">
            <div class="panel">
                <div class="panel-body">
                    <div class="chart">
                        <div class="chart-body" id="temperature"></div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-lg-6">
            <div class="panel">
                <div class="panel-body">
                    <div class="chart">
                        <div class="chart-body" id="battery-level"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>  <!-- /temperature -->

</div> <!-- /wrapper -->
<div class="wrapper">
 <div class="row">
    <div class="col-sm-12">
    <section class="panel">
    <header class="panel-heading">
        {{ device.eui }}
        <span class="tools pull-right">
            <a href="javascript:;" class="fa fa-chevron-down"></a>
            <!--<a href="javascript:;" class="fa fa-times"></a>-->
         </span>
    </header>
    <div class="panel-body">
    <div class="adv-table ">

    <table class="table table-striped table-hover table-bordered" id="data-table">
        <thead>
         <tr>
            <th>Update Time</th>
            <th>Fill Level</th>
            <th>Temperature</th>
            <th>Battery</th>
        </tr>
        </thead>  <!-- end device table thread -->
        <tbody>
        {% for data in datas %}
        <tr>
            <td>{{ data['create_time'].strftime('%Y-%m-%d %H:%M:%S') }}</td>
            <td>{{ data['occupancy'] }} %</td>
            <td>{{ data['temperature'] }} â„ƒ</td>
            <td>{{ data['electric_level'] }} %</td>
        </tr>
        {% endfor %}
    </tbody>
    </table>
    </div>
    </div>
    </section>
    </div>
    </div>
</div>

{% endblock %}
{% block scripts %}}
<script type="text/javascript" src="//code.jquery.com/jquery-1.4.2.min.js"></script>
<script src="{{ url_for('static', filename='js/app/device/device_data.js') }}"></script>
<script src="{{ url_for('static', filename='js/echarts.min.js') }}"></script>
<script src="https://cdn.socket.io/socket.io-1.4.5.js"></script>
<!--data table-->
<script type="text/javascript" src="{{ url_for('static', filename='js/data-tables/jquery.dataTables.js')}}"></script>
<script type="text/javascript" src="{{ url_for('static', filename='js/data-tables/DT_bootstrap.js') }}"></script>

{% endblock %}